<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Digital ColdBrew</title>

  <link rel="stylesheet" href="styles.css" />

  <!-- GSAP (optional for future animations) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>

  <!-- Three.js -->
  <script src="https://cdn.jsdelivr.net/npm/three@0.152.0/build/three.min.js"></script>

<!-- =========================================================
   VERTEX SHADER
   ========================================================= -->
<script id="vertexShader" type="x-shader/x-vertex">
  #ifdef GL_ES
  precision highp float;
  #endif

  attribute vec3 position;

  void main() {
    gl_Position = vec4(position, 1.0);
  }
</script>


<!-- =========================================================
   FRAGMENT SHADER (OPTION 3 — LIGHT BEIGE COLD BREW)
   ========================================================= -->
<script id="fragmentShader" type="x-shader/x-fragment">
  precision highp float;

  uniform float u_time;
  uniform vec2 u_resolution;
  uniform vec2 u_mouse;
  uniform float u_scroll;

  // ---------- helpers ----------
  vec2 hash2(vec2 p) {
    p = vec2(dot(p, vec2(127.1, 311.7)),
             dot(p, vec2(269.5,183.3)));
    return -1.0 + 2.0 * fract(sin(p) * 43758.5453123);
  }

  float noise(vec2 p){
    vec2 i = floor(p);
    vec2 f = fract(p);
    vec2 u = f*f*(3.0 - 2.0*f);

    return mix(
      mix(dot(hash2(i + vec2(0.0,0.0)), f - vec2(0.0,0.0)),
          dot(hash2(i + vec2(1.0,0.0)), f - vec2(1.0,0.0)), u.x),
      mix(dot(hash2(i + vec2(0.0,1.0)), f - vec2(0.0,1.0)),
          dot(hash2(i + vec2(1.0,1.0)), f - vec2(1.0,1.0)), u.x),
      u.y);
  }

  float fbm(vec2 p){
    float v = 0.0;
    float a = 0.5;
    mat2 m = mat2(1.6,1.2,-1.2,1.6);
    for(int i=0;i<5;i++){
      v += a * noise(p);
      p = m * p * 1.9;
      a *= 0.5;
    }
    return v;
  }

  vec2 curlNoise(vec2 p){
    float e = 0.001;
    float n1 = fbm(p + vec2(0.0, e));
    float n2 = fbm(p - vec2(0.0, e));
    float a = (n1 - n2) / (2.0 * e);

    float n3 = fbm(p + vec2(e, 0.0));
    float n4 = fbm(p - vec2(e, 0.0));
    float b = (n3 - n4) / (2.0 * e);
    return normalize(vec2(a, -b));
  }

  float radialMask(vec2 uv, vec2 center, float r){
    float d = distance(uv, center);
    return smoothstep(r, r*0.6, d);
  }

  // ---------- palette ----------
  vec3 milk = vec3(0.95, 0.92, 0.88);
  vec3 lightCoffee = vec3(0.77, 0.63, 0.50);
  vec3 midCoffee  = vec3(0.62, 0.44, 0.30);
  vec3 darkCoffee = vec3(0.28, 0.15, 0.08);

  void main() {
    vec2 uv = gl_FragCoord.xy / u_resolution.xy;

    vec2 center = uv - 0.5;
    center.x *= u_resolution.x / u_resolution.y;

    vec2 mouse = u_mouse;
    if(length(mouse) < 0.001) mouse = vec2(0.5, 0.5);
    vec2 mouseUV = mouse;

    float t = u_time * 0.9;
    float scroll = clamp(u_scroll, 0.0, 1.5);
    float pour = smoothstep(0.06, 0.9, scroll*1.6);

    vec2 flowPos = uv * 2.0 + vec2(0.0, t*0.05);
    vec2 curl = curlNoise(flowPos * 1.3 + t*0.08);

    curl += vec2(0.0, 0.55 * pour);

    float big = fbm(uv * 1.2 - vec2(0.0, t*0.02));
    float med = fbm(uv * 3.2 - vec2(t*0.04, -t*0.02));
    float fine = fbm(uv * 8.0 + vec2(t*0.06, t*0.09));
    float field = mix(big, med, 0.6) * 0.9 + fine * 0.35;

    vec2 d = uv - mouseUV;
    float dist = length(d) * 1.5;
    float ripple = sin(dist * 12.0 - t * 2.0) * exp(-dist * 2.8);

    vec2 pourOrigin = vec2(0.5, 1.25 - scroll * 1.75);
    float pourDist = length(uv - pourOrigin);
    float pourMask = smoothstep(0.45, 0.12, pourDist * (1.0 + scroll*2.2));

    float stream = smoothstep(0.0, 0.9, (1.2 - (uv.y + scroll*0.8))) * 0.55;

    float flow = (field * 0.9) + (ripple * 0.6) + (stream * pourMask * 1.2);

    vec2 disp = curl * (0.02 + flow * 0.04);

    float flow2 = fbm((uv + disp) * 3.0 + t*0.03);

    float blend = smoothstep(-0.2, 0.5, flow2);

    vec3 base = mix(milk, lightCoffee, smoothstep(0.0, 0.35, flow2));
    vec3 midcol = mix(base, midCoffee, smoothstep(0.2, 0.6, flow2));
    vec3 finalCol = mix(midcol, darkCoffee, smoothstep(0.5, 0.95, flow2));

    float sheen = 0.03 * (1.0 - smoothstep(0.2, 0.9, flow));
    sheen *= (0.6 + 0.4 * sin(t*1.8 + uv.x*6.0));

    finalCol += sheen;

    float vign = smoothstep(0.9, 0.3, length(center) * 1.05);
    finalCol = mix(finalCol, milk, vign * 0.08);

    finalCol = pow(finalCol, vec3(0.98));

    gl_FragColor = vec4(finalCol, 1.0);
  }
</script>

</head>

<body>

<canvas id="coffee-canvas"></canvas>

<header class="nav">
  <div class="brand">Digital <span>ColdBrew</span></div>
  <nav>
    <a href="#home">Home</a>
    <a href="#about">Who we are</a>
    <a href="#services">Services</a>
    <a href="#case">Case Studies</a>
    <a href="#contact">Contact</a>
  </nav>
</header>

<main>
  <section id="home" class="hero">
    <h1>Digital ColdBrew</h1>
    <p>Creative production for lifestyle brands — studio, shoots & performance marketing.</p>
  </section>

  <section id="about" class="content">
    <h2>Who we are</h2>
    <p>We craft campaigns that blend creativity, storytelling and measurable performance.</p>
  </section>

  <section id="services" class="content">
    <h2>Services</h2>
    <ul>
      <li>Social Media Marketing</li>
      <li>Brand Strategy</li>
      <li>Product Shoot & Video Production</li>
      <li>Performance Marketing</li>
    </ul>
  </section>

  <section id="case" class="content">
    <h2>Case Studies</h2>
    <p>Coming soon — with real brand campaigns and detailed results.</p>
  </section>

  <section id="contact" class="content">
    <h2>Contact</h2>
    <p>Email: contact@digitalcoldbrew.com</p>
  </section>
</main>

<script src="script.js"></script>

</body>
</html>
